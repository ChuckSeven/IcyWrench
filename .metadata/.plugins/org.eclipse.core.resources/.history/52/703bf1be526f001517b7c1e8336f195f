package modules;

import java.io.IOException;
import java.io.InputStream;
import java.util.HashMap;
import java.util.Map;

import logmanager.Logger;

public class HttpParser {

	public final static String HTTP_METHOD_KEY = "method";
	public final static String HTTP_URI_KEY = "uri";

	private static Logger logger = Logger.getInstance();
	
	public static Map<String, String> getHttpHeader(InputStream is) {
		logger.trace("enter HttpRequestHandler.getHttpHeader()");
		HashMap<String, String> headers = new HashMap<>();
		try {
			String str = readStringLine(is);
			
			if(str.equals("")) return null;
			else {
				headers.put(HttpParser.HTTP_METHOD_KEY, str.substring(0,str.indexOf(' ')));
				headers.put(HttpParser.HTTP_URI_KEY, str.substring(str.indexOf(' ')+1));
			}
			
			while(!(str = readStringLine(is)).equals("")) {
				
			}
		} catch (IOException e) {
			logger.fatal("I/O failure reading from socket inputstream", e);
		}

		return null;
	}
	
}
